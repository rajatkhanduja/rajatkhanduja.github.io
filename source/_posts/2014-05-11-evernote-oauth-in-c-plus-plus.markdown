---
layout: post
title: "Evernote OAuth in C++"
date: 2014-05-11 19:14:33 +0530
comments: true
categories: Evernote SDK C++ Linux OAuth
---

Due to the lack of an official [Evernote](https://evernote.com) client for
Linux and dissatisfied with solutions like
[Neverpad](https://github.com/nvbn/everpad) and [NixNote (formerly
Nevernote)](http://sourceforge.net/projects/nevernote/), I have started working
on [my own Linux client](https://github.com/rajatkhanduja/Evernote-for-linux).

It was while developing this that I learned that [Evernote SDK for
C++](https://github.com/evernote/evernote-sdk-cpp) doesn't really provide any
integration with OAuth. I couldn't even find a well formed solution for the
same on the Internet, except some forum posts suggesting using any available
OAuth 1.0 client. Searching for OAuth clients for C++, I found
[O2](https://github.com/pipacs/o2).  Using this, I was able to create a simple
OAuth integration for Evernote. 

Here are the steps :-

<!--more-->

1. Taking cue from [O2 integration with Dropbox](https://github.com/pipacs/o2/blob/master/src/o1dropbox.h), 
   I extended O1 to create `EvernoteAuthenticator`

<script src="https://gist.github.com/rajatkhanduja/edbb7f8d162912b38157.js?file=EvernoteAuthenticator.h"></script>

2. `EvernoteClient` demonstrates how `EvernoteAuthenticator` is initialized and called.
    Moreover, it handles the signals generated by `EvernoteAuthenticator` to open
    a browser, which is required for the user to enter his credentials to log in.
    It also allows the developer to use the sandboxed environment (more about that later).

<script src="https://gist.github.com/rajatkhanduja/edbb7f8d162912b38157.js?file=EvernoteClient.h"></script>
<script src="https://gist.github.com/rajatkhanduja/edbb7f8d162912b38157.js?file=EvernoteClient.cpp"></script>

